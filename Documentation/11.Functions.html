<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Functions</title>
</head>

<body>
  <p id="demo"></p>

  <script src="00.js"></script>
  <script>
    // توابع (functions)
    // مجموعه ای از دستورات و کد ها هستن که یک رفتار یا وظیفه رو تعریف میکنن
    // می تونیم از اونا در هر جای برنامه استفاده کنیم

    // function world() {
    //     console.log(world)
    // }
    // world()


    // بهتر هست در نام گذاری توابع از کلماتی که وظیفه تابع رو مشخص میکنه استفاده کنین
    // از گذاشتن علامت سوال در اسم تابع خودداری کنین


    // ذخیره ی تابع درون متغیر
    var fun = function show_name(name, family) {
      console.log(name, family)
    }
    // fun(Eb , He)            // Ebrahim Heydari

    // برای استفاده از این نوع تابع ها باید متغیر اش رو صدا بزنید



    // مقدار برگشتی از یک تابع (return)
    // توابع میتونن مقدار برگشتی از هر نوع داده ای داشته باشن
    // این مقادیر میتونه در محاسبات و یا به دست آوردن یک داده استفاده بشه

    function ReturnExit() {
      console.log('line1')
      return
      console.log('line2')        // دستورات بعد از return اجرا نمیشه
    }
    // ReturnExit()



    // پارامتر های پیشفرض باید در آخر تابع نوشته بشن
    // حتی میتونن یک تابع رو به عنوان آرگومان بپذیرن
    function Me(grade, age, name = 'Ebrahim', gender = 'male', func = ReturnExit()) {
      console.log('my name: ', name)
      console.log('my gender: ', gender)
      console.log('my Age: ', age)
      console.log('my grade: ', grade)
    }
    // Me(20 , 19)



    // نام گذاری آرگومان ها
    function Friends({ first = 'Hojjat', second = 'komeil', third = 'reza' }) {
      console.log('First Frind is: ' + first)
      console.log('Second Frind is: ' + second)
      console.log('Third Frind is: ' + third)
    }
    // Friends({})    // از مقادیر اختیاری استفاده میکنه
    // Friends({ one: 'Ali', two: 'Mahdi', three: 'javad' })



    // Rest
    // ایجاد پارامتر به دلخواه درون یک تابع
    // همیشه باید در پایان قرار بگیره
    function SetNumber(...num) {  // نمیشه مقدار دلخواه بپذیره
      console.log(num)
    }
    // SetNumber(1, 4, 8**3, 16%5, 2**32)



    // Spread
    // تعیین مقادیر آرایه برای پارامتر های تابع
    function showNumber(a, b, c, d, e, f) {
      console.log(a, b, c, d, e, f)
    }
    // showNumber(...binary)



    // Arrow Function
    // بدون پارامتر ورودی
    var ShowName_1 = () => console.log(Eb + He)
    // ShowName_1()

    // با پارامتر ورودی
    var ShowFriend = (first) => console.log(first)
    // ShowFriend(friends[0])

    // دارای چند دستور
    var ShowData = (name = He, third = phones.Samsung[0], Age = age) => (
      console.log('Name:', name),
      console.log('Current Phone:', third),
      console.log('Age:', Age)
    )
    // ShowData()
    // ShowData(friends[1] ,phones.second)



    // تابع بی نام
    // var message = function (value) {
    //     console.log(value)
    // }
    // message(world)



    // تابع خود فراخوان (IIFE)
    // این توابع رو فقط یک بار می تونیم فراخوانی کنیم

    // (
    //     function () {
    //         console.log('Hello World')
    //     }
    // )
    // ()

    // (
    //     function (text) {
    //         console.log(text)
    //     }
    // )
    // (eh)



    // کلمه کلیدی (arguments)
    // آگومان های بدون پارامتر رو نمایش میده
    function arg() {
      console.log(arguments)
    }
    // arg(PI)    // 3.14.....

    function argu() {
      var sum = " "
      for (i = 0; i < arguments.length; i++) {
        sum += arguments[i]
      }
      return sum
    }
    // demo.innerHTML = argu(Eb , He , age)
    // demo.innerHTML = argu(ten , spc , seventy)



    // توابع تو در تو
    // function add() {
    //   var counter = 0
    //   function plus() {
    //     counter += 5
    //   }
    //   plus()
    //   return counter
    // }
    // console.log(add())



    // تابع بازگشتی (Recursive Function)
    // تابعی هست که در درونش، خودش رو فراخوانی میکنه
    // الگوریتم تابع مثل یک حلقۀ تکرار هست
    // این تابع رو میشه با استفاده از حلقه‌های تکرار هم نوشت
    // گاهی استفاده از این روش به خواناتر شدن و فهم کد کمک می‌کنه

    // در این نوع تابع باید حداقل یک حالت ابتدایی وجود داشته باشه
    // حتی میشه چند حالت ابتدایی در یک تابع داشت
    // تابع به نحوی خودش رو فراخوانی میکنه که با هر بار فراخوانی، وضعیت تابع به حالت ابتدایی نزدیک بشه
    // اگر هیچ‌‌گونه حالت ابتدایی وجود نداشته باشه، این تابع تا بی‌نهایت خودش رو فراخوانی می‌کنه

    // مثال اول
    function sum(number) {
      // حالت ابتدایی
      if (number === 1) return 1
      // حالت ابتدایی

      else return number + sum(number - 1)
    }
    // console.log(sum(4))

    // مراحل اجرا
    // sum(4)
    // 4 + sum(3)
    // 4 + (3 + sum(2))
    // 4 + (3 + (2 + sum(1)))
    // 4 + (3 + (2 + 1))
    // 4 + (3 + 3)
    // 4 + (6)
    // 10


    // مثال دوم
    function isEmpty(list) {
      return (list.length === 0)
    }

    function getFirstElement(list) {
      return list[0]
    }

    function removeFirstElement(list) {
      newList = []
      for (i = 1; i < list.length; i++)
        newList.push(list[i])
      return newList
    }

    function calculate(list) {
      // حالت ابتدایی
      if (isEmpty(list)) return 0
      // حالت ابتدایی

      else return getFirstElement(list) + calculate(removeFirstElement(list))
    }
    // console.log(calculate([2, 3, 4, 5, 6]))

    // مراحل اجرا
    // sum([1, 2, 3, 4])
    // 1 + sum([2, 3, 4])
    // 1 + (2 + sum([3, 4]))
    // 1 + (2 + (3 + sum([4])))
    // 1 + (2 + (3 + (4 + sum([]))))
    // 1 + (2 + (3 + (4 + 0)))
    // 1 + (2 + (3 + 4))
    // 1 + (2 + 7)
    // 1 + 9
    // 10


    // مثال سوم (Call stack)
    function greet(name) {
      console.log(`hello ${name}!`)

      greet2(name)

      console.log(`getting ready to say bye...`)

      bye()
    }

    function greet2(name) {
      console.log(`how are you ${name}?`)
    }

    function bye() {
      console.log('ok bye!')
    }

    greet('ebrahim')
  </script>
</body>

</html>